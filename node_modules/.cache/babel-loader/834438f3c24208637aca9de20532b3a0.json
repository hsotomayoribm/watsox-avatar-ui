{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaweinzierl/Desktop/sm-neuralseek-ibm/react-ui/src/components/ContentCards/OrchestrationServerRequest/OrchestrationServerRequest.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styles from './OrchestrationServerRequest.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ORCHESTRATION_URL = process.env.REACT_APP_ORCHESTRATION_URL;\nconst videoTypes = {\n  mp4: true,\n  webm: true\n};\n\nconst _getFileType = str => {\n  if (!str) return false;\n  const i = str.lastIndexOf('.');\n  const fileType = str.slice(i + 1);\n  return fileType;\n};\n\nconst OrchestrationServerRequest = _ref => {\n  _s();\n\n  let {\n    browserId,\n    data\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [doggie, setDoggie] = useState('');\n  const [video, setVideo] = useState(false);\n  const {\n    cardId\n  } = data;\n  useEffect(() => {\n    async function getRandomDog() {\n      try {\n        const result = await axios.get(`${ORCHESTRATION_URL}/randomDog/${browserId}`);\n\n        if (result.data.url) {\n          console.log(`Result from get random dog: ${result.data.url}`);\n          setDoggie(result.data.url);\n          setLoading(false);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    getRandomDog();\n  }, []);\n  useEffect(() => {\n    if (doggie) {\n      const fileType = _getFileType(doggie);\n\n      if (videoTypes[fileType]) setVideo(true);\n    }\n  }, [doggie]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-sm-content\": cardId,\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.orchestration,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.orchestration__title,\n        children: \"This is a random picture of a cute dog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.orchestration__content,\n        children: [!loading && !video && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: doggie ? doggie : 'https://random.dog/bee1c745-f82f-4025-a3ec-728f0e7961fe.JPG',\n          alt: \"dog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), !loading && video && /*#__PURE__*/_jsxDEV(\"video\", {\n          controls: false,\n          autoPlay: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: doggie,\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(OrchestrationServerRequest, \"61BN5kcpYJjm8vrJyGik93qHUxE=\");\n\n_c = OrchestrationServerRequest;\nOrchestrationServerRequest.propTypes = {\n  browserId: PropTypes.string,\n  data: PropTypes.shape({\n    cardId: PropTypes.string.isRequired\n  }).isRequired\n};\n\nconst mapStateToProps = _ref2 => {\n  let {\n    sm\n  } = _ref2;\n  return {\n    browserId: sm.browserId\n  };\n};\n\nexport default connect(mapStateToProps)(OrchestrationServerRequest);\n\nvar _c;\n\n$RefreshReg$(_c, \"OrchestrationServerRequest\");","map":{"version":3,"names":["React","useEffect","useState","axios","connect","PropTypes","styles","ORCHESTRATION_URL","process","env","REACT_APP_ORCHESTRATION_URL","videoTypes","mp4","webm","_getFileType","str","i","lastIndexOf","fileType","slice","OrchestrationServerRequest","browserId","data","loading","setLoading","doggie","setDoggie","video","setVideo","cardId","getRandomDog","result","get","url","console","log","err","container","orchestration","orchestration__title","orchestration__content","propTypes","string","shape","isRequired","mapStateToProps","sm"],"sources":["/Users/sofiaweinzierl/Desktop/sm-neuralseek-ibm/react-ui/src/components/ContentCards/OrchestrationServerRequest/OrchestrationServerRequest.js"],"sourcesContent":["/* eslint-disable */\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport styles from './OrchestrationServerRequest.module.scss';\n\nconst ORCHESTRATION_URL = process.env.REACT_APP_ORCHESTRATION_URL;\n\nconst videoTypes = {\n  mp4: true,\n  webm: true,\n};\n\nconst _getFileType = (str) => {\n  if (!str) return false;\n  const i = str.lastIndexOf('.');\n  const fileType = str.slice(i + 1);\n  return fileType;\n};\n\nconst OrchestrationServerRequest = ({ browserId, data }) => {\n  const [loading, setLoading] = useState(true);\n  const [doggie, setDoggie] = useState('');\n  const [video, setVideo] = useState(false);\n  const { cardId } = data;\n\n  useEffect(() => {\n    async function getRandomDog() {\n      try {\n        const result = await axios.get(\n          `${ORCHESTRATION_URL}/randomDog/${browserId}`,\n        );\n        if (result.data.url) {\n          console.log(`Result from get random dog: ${result.data.url}`);\n          setDoggie(result.data.url);\n          setLoading(false);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    getRandomDog();\n  }, []);\n\n  useEffect(() => {\n    if (doggie) {\n      const fileType = _getFileType(doggie);\n      if (videoTypes[fileType]) setVideo(true);\n    }\n  }, [doggie]);\n\n  return (\n    <div data-sm-content={cardId} className={styles.container}>\n      <div className={styles.orchestration}>\n        <div className={styles.orchestration__title}>This is a random picture of a cute dog</div>\n        <div className={styles.orchestration__content}>\n          {!loading && !video && (\n            <img\n              src={doggie ? doggie : 'https://random.dog/bee1c745-f82f-4025-a3ec-728f0e7961fe.JPG'}\n              alt='dog'\n            />\n          )}\n          {!loading && video && (\n            <video controls={false} autoPlay>\n              <source src={doggie} type='video/mp4' />\n            </video>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nOrchestrationServerRequest.propTypes = {\n  browserId: PropTypes.string,\n  data: PropTypes.shape({\n    cardId: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nconst mapStateToProps = ({ sm }) => ({\n  browserId: sm.browserId,\n});\n\nexport default connect(mapStateToProps)(OrchestrationServerRequest);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}